type Wallet @entity(immutable: false) {
  id: ID! # wallet address
  address: Bytes!
  totalTransactions: BigInt!
  transactions: [Transaction!]! @derivedFrom(field: "from")
  receivedTransactions: [Transaction!]! @derivedFrom(field: "to")
  lastUpdated: BigInt!
}

type Transaction @entity(immutable: true) {
  id: ID! # transaction hash + log index
  hash: Bytes!
  from: Wallet!
  to: Wallet!
  value: BigInt!
  tokenAddress: Bytes!
  tokenSymbol: String!
  tokenName: String!
  tokenDecimals: Int!
  blockNumber: BigInt!
  timestamp: BigInt!
}